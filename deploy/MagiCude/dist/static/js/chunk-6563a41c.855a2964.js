(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6563a41c"],{9406:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-container",staticStyle:{background:"#fff",padding:"0 80px 0"}},[e("el-row",{attrs:{type:"flex",justify:"start"}},[e("el-col",{attrs:{span:24}},[e("div",[e("statistics-line-chart")],1)])],1)],1)},i=[],o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{height:"100%",width:"100%"}},[e("br"),e("el-row",{staticClass:"row-bg el-row-two",attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:24}},[e("div",{ref:"ipDiv",staticStyle:{height:"340px",width:"700px"}})]),e("el-col",{attrs:{span:24}},[e("div",{ref:"portDiv",staticStyle:{height:"340px",width:"700px"}})])],1),e("br"),e("el-row",{staticClass:"row-bg el-row-two",attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:24}},[e("div",{ref:"checkresultDiv",staticStyle:{height:"340px",width:"700px"}})]),e("el-col",{attrs:{span:24}},[e("div",{ref:"riskDiv",staticStyle:{height:"340px",width:"700px"}})])],1),e("br"),e("br"),e("el-row",{staticClass:"row-bg el-row-two",attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:24}},[e("div",[e("checkresult-vuln-pie-nest-chart")],1)]),e("el-col",{attrs:{span:24}},[e("div",[e("checkresult-vuln-online-pie-nest-chart")],1)])],1)],1)},r=[],s=(e("a15b"),e("313e")),l=e.n(s),u=e("9b81"),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{height:"340px",width:"700px"}})},h=[];e("b0c0");e("817d");var d={data:function(){return{selected:{},seriesData:[],legendData:[],data:[],riskvulndata:[],chart:null}},created:function(){this.getIpPortCount()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{getIpPortCount:function(){var t=this;u["a"].findRiskCount().then((function(a){t.data=a.data})).then((function(){for(var a=0;a<t.data.length;a++)t.legendData.push(t.data[a].name),t.seriesData.push({name:t.data[a].name,value:t.data[a].value}),t.selected[t.data[a].name]=a<7})).then((function(){u["a"].findRiskVulnCount().then((function(a){t.riskvulndata=a.data})).then((function(){for(var a=0;a<t.riskvulndata.length;a++)t.legendData.push(t.riskvulndata[a].name),t.seriesData.push({name:t.riskvulndata[a].name,value:t.riskvulndata[a].value}),t.selected[t.riskvulndata[a].name]=a<100})).then((function(){t.initChart()}))}))},initChart:function(){this.chart=l.a.init(this.$el,"macarons"),this.chart.setOption({title:{text:"检测结果数",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"scroll",orient:"vertical",right:0,top:20,bottom:20,data:this.legendData},toolbox:{feature:{restore:{},saveAsImage:{}}},series:[{name:"风险",type:"pie",selectedMode:"single",radius:[0,"30%"],label:{position:"inner"},labelLine:{show:!1},data:this.data},{name:"漏洞",type:"pie",radius:["40%","55%"],label:{formatter:"{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ",backgroundColor:"#eee",borderColor:"#aaa",borderWidth:1,borderRadius:4,rich:{a:{color:"#999",lineHeight:22,align:"center"},hr:{borderColor:"#aaa",width:"100%",borderWidth:.5,height:0},b:{fontSize:16,lineHeight:33},per:{color:"#eee",backgroundColor:"#334455",padding:[2,4],borderRadius:2}}},data:this.riskvulndata}]})}}},p=d,m=e("2877"),f=Object(m["a"])(p,c,h,!1,null,null,null),g=f.exports,C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{height:"340px",width:"700px"}})},v=[];e("817d");var y={data:function(){return{selected:{},seriesData:[],legendData:[],data:[],riskvulndata:[],chart:null}},created:function(){this.getIpPortCount()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{getIpPortCount:function(){var t=this;u["a"].findRiskCountOnline().then((function(a){t.data=a.data})).then((function(){for(var a=0;a<t.data.length;a++)t.legendData.push(t.data[a].name),t.seriesData.push({name:t.data[a].name,value:t.data[a].value}),t.selected[t.data[a].name]=a<7})).then((function(){u["a"].findRiskVulnCountOnline().then((function(a){t.riskvulndata=a.data})).then((function(){for(var a=0;a<t.riskvulndata.length;a++)t.legendData.push(t.riskvulndata[a].name),t.seriesData.push({name:t.riskvulndata[a].name,value:t.riskvulndata[a].value}),t.selected[t.riskvulndata[a].name]=a<100})).then((function(){t.initChart()}))}))},initChart:function(){this.chart=l.a.init(this.$el,"macarons"),this.chart.setOption({title:{text:"检测结果数(未修复)",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"scroll",orient:"vertical",right:0,top:20,bottom:20,data:this.legendData},toolbox:{feature:{restore:{},saveAsImage:{}}},series:[{name:"风险",type:"pie",selectedMode:"single",radius:[0,"30%"],label:{position:"inner"},labelLine:{show:!1},data:this.data},{name:"漏洞",type:"pie",radius:["40%","55%"],label:{formatter:"{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ",backgroundColor:"#eee",borderColor:"#aaa",borderWidth:1,borderRadius:4,rich:{a:{color:"#999",lineHeight:22,align:"center"},hr:{borderColor:"#aaa",width:"100%",borderWidth:.5,height:0},b:{fontSize:16,lineHeight:33},per:{color:"#eee",backgroundColor:"#334455",padding:[2,4],borderRadius:2}}},data:this.riskvulndata}]})}}},b=y,k=Object(m["a"])(b,C,v,!1,null,null,null),D=k.exports;e("817d");var O={components:{CheckresultVulnPieNestChart:g,CheckresultVulnOnlinePieNestChart:D},data:function(){return{ipCountData:[],ipCountOnlineData:[],portCountData:[],portCountOnlineData:[],checkresultCountData:[],checkresultCountOnlineData:[],infoCountData:[],lowCountData:[],mediumCountData:[],highCountData:[],criticalCountData:[],fatalCountData:[],infoCountOnlineData:[],lowCountOnlineData:[],mediumCountOnlineData:[],highCountOnlineData:[],criticalCountOnlineData:[],fatalCountOnlineData:[],riskportCountData:[],riskportCountOnlineData:[],riskserviceCountData:[],riskserviceCountOnlineData:[],riskversionCountData:[],riskversionCountOnlineData:[],ipChart:null,portChart:null,checkresultChart:null,riskChart:null,date:[]}},created:function(){this.getAllStatistics()},beforeDestroy:function(){this.ipChart&&this.portChart&&this.checkresultChart&&this.riskChart&&(this.ipChart.dispose(),this.ipChart=null,this.portChart.dispose(),this.portChart=null,this.checkresultChart.dispose(),this.checkresultChart=null,this.riskChart.dispose(),this.riskChart=null)},methods:{getAllStatistics:function(){var t=this;u["a"].findAllStatistics().then((function(a){t.data=a.data;for(var e=0;e<t.data.length;e++){var n=new Date(t.data[e].updatetime);t.date.push([n.getFullYear(),n.getMonth()+1,n.getDate()].join("/")),t.ipCountData.push(t.data[e].ipcount),t.ipCountOnlineData.push(t.data[e].ipcountonline),t.portCountData.push(t.data[e].portcount),t.portCountOnlineData.push(t.data[e].portcountonline),t.checkresultCountData.push(t.data[e].checkresultcount),t.checkresultCountOnlineData.push(t.data[e].checkresultcountonline),t.infoCountData.push(t.data[e].infocount),t.lowCountData.push(t.data[e].lowcount),t.mediumCountData.push(t.data[e].mediumcount),t.highCountData.push(t.data[e].highcount),t.criticalCountData.push(t.data[e].criticalcount),t.fatalCountData.push(t.data[e].fatalcount),t.infoCountOnlineData.push(t.data[e].infocountonline),t.lowCountOnlineData.push(t.data[e].lowcountonline),t.mediumCountOnlineData.push(t.data[e].mediumcountonline),t.highCountOnlineData.push(t.data[e].highcountonline),t.criticalCountOnlineData.push(t.data[e].criticalcountonline),t.fatalCountOnlineData.push(t.data[e].fatalcountonline),t.riskportCountData.push(t.data[e].riskportcount),t.riskportCountOnlineData.push(t.data[e].riskportcountonline),t.riskserviceCountData.push(t.data[e].riskservicecount),t.riskserviceCountOnlineData.push(t.data[e].riskservicecountonline),t.riskversionCountData.push(t.data[e].riskversioncount),t.riskversionCountOnlineData.push(t.data[e].riskversioncountonline)}})).then((function(){t.initIpChart(),t.initPortChart(),t.initCheckresultChart(),t.initRiskChart()}))},initIpChart:function(){this.ipChart=l.a.init(this.$refs.ipDiv,"macarons"),this.ipChart.setOption({title:{text:"资产ip",left:"center"},tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.date},yAxis:{type:"value",boundaryGap:[0,"100%"]},dataZoom:[{type:"inside",start:70,end:100},{start:0,end:10,handleSize:"80%"}],series:[{name:"ip总数",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.ipCountData},{name:"未下线ip数",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.ipCountOnlineData}]})},initPortChart:function(){this.portChart=l.a.init(this.$refs.portDiv,"macarons"),this.portChart.setOption({title:{text:"资产端口",left:"center"},tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.date},yAxis:{type:"value",boundaryGap:[0,"100%"]},dataZoom:[{type:"inside",start:70,end:100},{start:0,end:10,handleSize:"80%"}],series:[{name:"端口总数",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.portCountData},{name:"未下线端口数",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.portCountOnlineData}]})},initCheckresultChart:function(){this.checkresultChart=l.a.init(this.$refs.checkresultDiv,"macarons"),this.checkresultChart.setOption({title:{text:"检测结果",left:"center"},tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.date},yAxis:{type:"value",boundaryGap:[0,"100%"]},dataZoom:[{type:"inside",start:70,end:100},{start:0,end:10,handleSize:"80%"}],series:[{name:"检测结果总数",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.checkresultCountData},{name:"未修复",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.checkresultCountOnlineData},{name:"信息",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.infoCountData},{name:"未修复信息",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.infoCountOnlineData},{name:"低危",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.lowCountData},{name:"未修复低危",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.lowCountOnlineData},{name:"中危",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.mediumCountData},{name:"未修复中危",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.mediumCountOnlineData},{name:"高危",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.highCountData},{name:"未修复高危",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.highCountOnlineData},{name:"严重",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.criticalCountData},{name:"未修复严重",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.criticalCountOnlineData},{name:"致命",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.fatalCountData},{name:"未修复致命",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.fatalCountOnlineData}]})},initRiskChart:function(){this.riskChart=l.a.init(this.$refs.riskDiv,"macarons"),this.riskChart.setOption({title:{text:"高危资产",left:"center"},tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.date},yAxis:{type:"value",boundaryGap:[0,"100%"]},dataZoom:[{type:"inside",start:70,end:100},{start:0,end:10,handleSize:"80%"}],series:[{name:"端口数",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.riskportCountData},{name:"未下线端口数",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.riskportCountOnlineData},{name:"服务数",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.riskserviceCountData},{name:"未下线服务数",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.riskserviceCountOnlineData},{name:"版本数",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.riskversionCountData},{name:"未下线版本数",type:"line",smooth:!0,symbol:"none",sampling:"average",areaStyle:{},data:this.riskversionCountOnlineData}]})}}},x=O,S=Object(m["a"])(x,o,r,!1,null,null,null),w=S.exports,j={components:{StatisticsLineChart:w}},A=j,R=Object(m["a"])(A,n,i,!1,null,null,null);a["default"]=R.exports},"9b81":function(t,a,e){"use strict";var n=e("b775"),i="center",o="char";a["a"]={findIpPortCount:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/ipportcount"),method:"get"})},findIpPortCountOnline:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/ipportcountonline"),method:"get"})},findServiceCount:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/servicecount"),method:"get"})},findServiceCountOnline:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/servicecountonline"),method:"get"})},findVersionCount:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/versioncount"),method:"get"})},findVersionCountOnline:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/versioncountonline"),method:"get"})},findWebinfoServerCount:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/webinfoservercount"),method:"get"})},findRiskPortCount:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/riskportcount"),method:"get"})},findRiskPortCountOnline:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/riskportcountonline"),method:"get"})},findRiskServiceCount:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/riskservicecount"),method:"get"})},findRiskServiceCountOnline:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/riskservicecountonline"),method:"get"})},findRiskVersionCount:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/riskversioncount"),method:"get"})},findRiskVersionCountOnline:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/riskversioncountonline"),method:"get"})},findRiskCount:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/riskcount"),method:"get"})},findRiskCountOnline:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/riskcountonline"),method:"get"})},findRiskVulnCount:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/riskvulncount"),method:"get"})},findRiskVulnCountOnline:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/riskvulncountonline"),method:"get"})},findAllStatistics:function(){return Object(n["a"])({url:"/".concat(i,"/").concat(o,"/statistics"),method:"get"})}}},a15b:function(t,a,e){"use strict";var n=e("23e7"),i=e("44ad"),o=e("fc6a"),r=e("a640"),s=[].join,l=i!=Object,u=r("join",",");n({target:"Array",proto:!0,forced:l||!u},{join:function(t){return s.call(o(this),void 0===t?",":t)}})}}]);